<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
	<script type="text/javascript">
		function addPizza(){
			var id=document.getElementById("id").value;
			var name=document.getElementById("name").value;
			var preis=document.getElementById("preis").value;

			if(isNaN(id)| !isNaN(name) | isNaN(preis)){
				alert("Falsche Datentypen eingegeben");
				return;
			}
			
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					clearInputFields();
					document.getElementById("b").innerHTML= this.responseText;
				}
			};
			xhttp.open("POST", "addPizza.php", true);
			xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
			xhttp.send("id="+id+"&name="+name+"&preis="+preis);
		}
		
		function deletePizza(){
			var pnr=document.getElementById("pnr").value;
			
			if(isNaN(pnr)){
				alert("Falsche Datentypen eingegeben");
				return;
			}
			
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					clearInputFields();
					document.getElementById("b").innerHTML= this.responseText;
				}
			};
			xhttp.open("POST", "deletePizza.php", true);
			xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
			xhttp.send("id="+pnr);
		}
		
		function showPizzas(){
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					document.getElementById("a").innerHTML= this.responseText;
				}
			};
			xhttp.open("POST", "showPizza.php", true);
			xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
			xhttp.send();
		}
		
		function updatePizza(){
			var id=document.getElementById("upnr").value;
			var name=document.getElementById("uname").value;
			var preis=document.getElementById("upreis").value;

			if(isNaN(id)| !isNaN(name) | isNaN(preis)){
				alert("Falsche Datentypen eingegeben");
				return;
			}
			
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					clearInputFields();
					document.getElementById("b").innerHTML= this.responseText;
				}
			};
			xhttp.open("POST", "addPizza.php", true);
			xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
			xhttp.send("id="+id+"&name="+name+"&preis="+preis);
		}
		
		function clearInputFields(){
			document.getElementById("id").value="";
			document.getElementById("name").value="";
			document.getElementById("preis").value="";
			document.getElementById("pnr").value="";
			document.getElementById("upnr").value="";
			document.getElementById("uname").value="";
			document.getElementById("upreis").value="";
		
		}
	</script>
</head>
<body>
	<h1>Eingetragene Pizzen <button onclick="showPizzas();">Anzeigen</button> </h1>
		<p id="a"> </p>
	<h1>Pizza Hinzufügen</h1>
		PizzaNr:
		<input type="text"  id="id"/>
		Name:
		<input type="text"  id="name"/>
		Preis:
		<input type="text"  id="preis"/>
		<button onclick="addPizza();">hinzufügen</button>
	<h1>Pizza Löschen</h1>
		PizzaNr:
		<input type="text"  id="pnr"/>
		<button onclick="deletePizza();">löschen</button>
	<h1>Pizza Updaten</h1>
		PizzaNr:<input type="text"  id="upnr"/>
		<br/><br/>
		Name:<input type="text"  id="uname"/>
		Preis:<input type="text"  id="upreis"/>
		<button onclick="updatePizza();">Updaten</button>
		<br/>
		<br/>
		<p id="b"></p>
</body>
</html>